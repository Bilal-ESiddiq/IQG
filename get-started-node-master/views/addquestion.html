<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Interview Question Generator</title>

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="stylesheets/styles.css" rel="stylesheet">
      <link href="stylesheets/w3.css" rel="stylesheet">
      <script type="text/javascript" src="javascript/scripts.js"></script>
      <script type="text/javascript" src="javascript/routes.js"></script>
    
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="javascript/antixss.js" type="text/javascript"></script>
    
</head>

<body style="background-color:rgb(233,231,218);">

<!-- Nav Bar -->
<div style="background-color:rgb(118,50,63);" class="w3-bar">
  <button id="logoutButton" class="w3-right w3-btn w3-bar-item"><img src='images/logout-icon.png'></button>
  <button id="myQuestButton" style="font-family:Courier; font-size:18px; color:rgb(233,231,218); text-align:center;" class="w3-right w3-btn w3-bar-item"><b>My Questions</b></button>   
</div>
<!-- End Nav Bar -->


    <div class="container">
       <header style="color:rgb(86,86,86);" class="w3-margin-top w3-container w3-xxlarge">Start Adding your Question</header>
 
        <div id="nameInput" class="w3-container ">
        
        	 <p class="w3-text-red"id="demo"><b></b></p>
             <br>
             <br>
             <textarea id="user_name" class="w3-border w3-round w3-input " placeholder="Type your Question" aria-describedby="sizing-addon1"></textarea>
             <br>
             <br>
             
             <select id="noChoice" onchange="choiceGenerator()"  class="w3-select w3-border w3-round " name="option">
             	<option value="" disabled selected>Choose number of answer choices..</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			  </select>
			 
			 <br>
             <br> 
		<div id="answers">
         
         
         </div>
         <br>
         <br>
         
           
      
          
            
          <div id="models">  
            <h3 style="color:rgb(86,86,86);" class="w3-xlarge">Model Answer:</h3>
          
           
      
          </div>
          <br>
         <br>
          
          
          
          
         
           <select id="category"  class="w3-select w3-border w3-round " name="option">
			    <option value="" disabled selected>Choose Category..</option>
			    
			  </select>
         
         <p>
          <label style="color:rgb(86,86,86);">Add a Category if it does not exist</label>
          <input id="addcategory" type="text" class="w3-input w3-border w3-round " style="width:135px" placeholder="Category" aria-describedby="sizing-addon1" value=""  />   <button style="background-color:rgb(118,50,63); color:rgb(205,216,199);" class="w3-btn w3-round" onclick="addCategory()" >Add</button>
          </p>
          <input id="subcategory" type="text" class="w3-input w3-border w3-round " placeholder="Sub-Category" aria-describedby="sizing-addon1" value=""  /><br>
          
          <br>
         <br>
      
          
            <select id="qlevel"  class="w3-select w3-border w3-round " name="option">
			    <option value="" disabled selected>Choose Difficulty..</option>
			    <option value="Easy">Beginner</option>
			    <option value="Medium">Intermediate</option>
			    <option value="Hard">Advanced</option>
			  </select>
          
          <br>
         <br>
          
           <input id="estTime" type="text" class="w3-input w3-border w3-round " placeholder="Time Estmate in Minutes" aria-describedby="sizing-addon1" value=""  /><br>
		 <br>
         <br>
         
         <input id=receiverID type=text class="w3-input w3-border w3-round " placeholder="Disabled for now...Please Enter receiver id" value="" disabled />
         <br>
         <br>
         
          
         
         <br>
         <br>
        	<p style="color:rgb(205,216,199);"><button style="background-color:rgb(118,50,63);" class="w3-btn w3-round" onclick="submitQuestion()" >Submit</button>    <button style="background-color:rgb(118,50,63);" class="w3-btn w3-round" onclick="returnHomepage()" >Cancel</button></p>
        </div>
        <p id="response" class="lead text-center"></p>

        <p id="databaseNames" class="lead text-center"></p>
    </div>

    <script>
    var modelanswer="";
    $('#panel').hide();
    var flagerror=0;
	    function check()
	    {
		    if(document.getElementById("radio1").checked)
		  		modelanswer=$('#option1').val();
		
		    else if(document.getElementById("radio2").checked)
		    	modelanswer=$('#option2').val();
		      
	   		else if(document.getElementById("radio3").checked)
		    	modelanswer=$('#option3').val();
		
			else if(document.getElementById("radio4").checked) 
				modelanswer=$('#option4').val();
			      
	    }
    

	    
    
	   function addCategory()
	   {
		   
		   var name=$()
	   }
	    
	    
	    
	    
    	//Submit data when submit is pressed
        function submitQuestion() {
        	var name = $('#user_name').val();
        	var op1= $('#option1').val();
        	var op2= $('#option2').val();
        	var op3= $('#option3').val();
        	var op4= $('#option4').val();
        	var category=$('#category').val();
        	var subcategory=$('#subcategory').val();
        	var qlevel=$('#qlevel').val();
        	var estime=$('#estTime').val();
        	var adderid=1;
        	var reviewerid=2;
        	var status="pending";
        	var comment="";
        	var repetition=0;
        	
        	//To see if there are any unfilled fields
        	
        	
        	if(name=="" || op1=="" || op2=="" ||op3==""||op4==""  || category=="" || subcategory=="" || qlevel==""|| estime=="" )
        		flagerror=1;
        	
        	if($('#noChoice').val()==2)
    		{
    			op3= "";
    			op4= "";
    		}
    		else if($('#noChoice').val()==3)
				op4= "";
    		
        	
            if ( name.length > 0 && flagerror==0) { 
            	//POST request to API to create a new visitor entry in the database
                $.ajax({
				  method: "POST",
				  url: "./api/visitors",
				  contentType: "application/json",
				  data: JSON.stringify({"name" : name,"op1": op1,"op2":op2,"op3":op3,"op4":op4,"modelanswer":modelanswer,"category":category,"subcategory":subcategory,"qlevel":qlevel,"estime":estime,"adderid":adderid,"reviewerid":reviewerid,"status":status,"comment":comment,"rep":repetition})
                })	  
                
                .done(function(data) {
                   alert("Your Question was added successfully");
                    returnHomepage();
                    
                });
            }
        	
            else if (flagerror==1)
            	{
            		document.getElementById("demo").innerHTML = "Please fill all the required fields";
            		flagerror=0;
            	}
          
        }
   
         
    </script>
</body>

</html>